(this["webpackJsonpchucks-jokes"]=this["webpackJsonpchucks-jokes"]||[]).push([[0],{104:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(14),r=c.n(a),o=(c(77),c(78),c(21)),i=c(125),s=c(2),j=function(e){var t=e.category,c=e.allowExplicit,n=e.dispatchUrl,a=e.getSelectedCategory,r=e.selected;return Object(s.jsx)(i.a,{disabled:!!("explicit"===t&!c),onClick:function(){return function(e){r?(a(""),n("")):(a(e),n("?category=".concat(e)))}(t)},variant:r?"outlined":"text",color:"explicit"===t?"secondary":"primary",children:t})},l=c(13),u="GET_FETCH_URL",d="FETCH_JOKE",b="FETCH_CATEGORIES",p="GET_SEARCH_QUERY",h="IS_LOADED",O=c(64),f=c.n(O).a.create({baseURL:"https://api.chucknorris.io/jokes/"}),g=function(){return function(e){f.get("categories").then((function(t){var c=t.data;e(function(e){return{type:b,payload:e}}(c))}))}},x=function(){return{type:h}},m=function(e){return{type:d,payload:e}},y=function(e){return function(t){t(x()),f.get(e).then((function(e){var c=e.data;t(m(c))})).catch((function(e){return console.log(e)}))}},v=function(e){return function(t){t(x()),f.get("search?query=".concat(e)).then((function(c){var n=c.data.total,a=Math.floor(Math.random()*n),r=c.data.result[a];t({type:p,payload:e}),t(m(r))})).catch((function(e){console.log(e)}))}},k=c(128),C=c(136),E=c(130),w=c(127),S=Object(w.a)((function(e){return{switchControl:{padding:e.spacing(3),color:e.palette.text.secondary}}})),N=function(){var e=S(),t=Object(l.b)(),c=Object(n.useState)(!1),a=Object(o.a)(c,2),r=a[0],i=a[1],d=Object(n.useState)(""),b=Object(o.a)(d,2),p=b[0],h=b[1],O=Object(l.c)((function(e){return e.jokes.categories}));Object(n.useEffect)((function(){t(g())}),[t]);var f=function(e){var c;t((c="random".concat(e),{type:u,payload:c}))},x=function(e){h(e)};return Object(s.jsxs)(n.Fragment,{children:[Object(s.jsx)(k.a,{className:e.switchControl,control:Object(s.jsx)(C.a,{checked:r,onChange:function(){i(!r),!0===r&&"explicit"===p&&(f(""),h(""))},name:"allowExplicit"}),label:"Allow explicit category"}),Object(s.jsx)(E.a,{container:!0,justify:"center",children:O.map((function(e){return Object(s.jsx)(j,{category:e,selected:p===e,dispatchUrl:f,allowExplicit:r,getSelectedCategory:x},e)}))})]})},L=c(129),T=c(65),U=c.n(T),_=c(134),A=Object(w.a)((function(e){return{input:{padding:e.spacing(1),transition:e.transitions.create("width"),width:"18ch","&:focus":{width:"20ch"}}}})),F=function(e){var t=e.placeholder,c=e.value,n=e.handleChange,a=A();return Object(s.jsx)(_.a,{value:c,placeholder:t,onChange:n,classes:{input:a.input}})},H=Object(w.a)((function(e){return{searchform:{margin:e.spacing(3),marginLeft:"70px"}}})),I=function(e){var t=e.type,c=e.placeholder,a=H(),r=Object(l.b)(),i=Object(n.useState)(""),j=Object(o.a)(i,2),u=j[0],d=j[1];return Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"joke-search"===t&&(u.trim().length>=3?(r(v(u)),d("")):alert("Please write longer query, minimum are 3 characters..."))},className:a.searchform,children:[Object(s.jsx)(F,{placeholder:c,handleChange:function(e){d(e.target.value)},value:u}),Object(s.jsx)(L.a,{"aria-label":"search",type:"submit",children:Object(s.jsx)(U.a,{})})]})},R=c(131),J=c(107),Q=Object(w.a)((function(e){return{categoryCaption:{position:"absolute",left:e.spacing(1),bottom:e.spacing(1),fontStyle:"italic"}}})),D=function(e){var t=e.jokeContent,c=e.jokeCategory,n=void 0===c?"random":c,a=Q();return Object(s.jsxs)(R.a,{children:[Object(s.jsx)(J.a,{variant:"subtitle1",children:t}),Object(s.jsx)(J.a,{variant:"caption",className:a.categoryCaption,children:Object(s.jsxs)("span",{children:['"',n,'"']})})]})},G=c.p+"static/media/chuck_norris.506b744f.png",P=c(132),W=c(135),q=c(66),B=c.n(q),M=Object(w.a)((function(e){return{jokeWrapper:{position:"relative"},paper:{padding:(e.spacing(2),e.spacing(3)),color:e.palette.text.secondary,minHeight:"2.5em",textOverflow:"ellipsis"},contentPadding:{padding:e.spacing(2)},chuckImgStyle:{width:"250px",marginBottom:"-45px",position:"relative"},button:{position:"absolute",top:222,right:2}}})),K=function(){var e=M(),t=Object(l.b)(),c=Object(l.c)((function(e){return e.jokes.searchQuery})),a=Object(l.c)((function(e){return e.jokes.fetchUrl})),r=Object(l.c)((function(e){return e.jokes.isLoaded})),o=Object(l.c)((function(e){return e.jokes.joke}));return Object(n.useEffect)((function(){t(y(a))}),[t,a]),Object(s.jsx)(R.a,{children:Object(s.jsx)(n.Fragment,{children:Object(s.jsxs)("div",{className:e.jokeWrapper,children:[Object(s.jsx)("img",{src:G,alt:"chuck",className:e.chuckImgStyle}),Object(s.jsxs)(P.a,{variant:"outlined",className:e.paper,children:[r&&Object(s.jsx)(W.a,{in:r,timeout:500,direction:"right",children:Object(s.jsx)("div",{className:e.contentPadding,children:o?Object(s.jsx)(D,{jokeContent:o.value,jokeCategory:o.categories[0]}):Object(s.jsx)("div",{children:c?Object(s.jsxs)("span",{children:["Can't find joke containing: \"",c,'"']}):Object(s.jsx)("span",{children:"Can't load joke :("})})})}),Object(s.jsx)(L.a,{className:e.button,onClick:function(){t(y(a))},children:Object(s.jsx)(B.a,{color:"secondary"})})]})]})})})},Y=c(133),z=c(68),V=Object(z.a)({palette:{primary:{main:"#2f8bd8"},secondary:{main:"#cf542e"}}}),X=Object(w.a)((function(e){return{root:{paddingTop:e.spacing(6)},title2:{color:"#cf542e"}}})),Z=function(){var e=X(),t=Object(n.useState)(!1),c=Object(o.a)(t,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){setTimeout((function(){r(!0)}),350)}),[]),Object(s.jsx)("div",{className:e.root,children:Object(s.jsx)(Y.a,{theme:V,children:Object(s.jsx)(W.a,{in:a,timeout:1e3,children:Object(s.jsxs)(R.a,{maxWidth:"sm",children:[Object(s.jsxs)(J.a,{variant:"h3",color:"primary",children:["Chuck's ",Object(s.jsx)("span",{className:e.title2,children:"Jokes"})]}),Object(s.jsx)(N,{}),Object(s.jsx)(I,{type:"joke-search",placeholder:"Search joke..."}),Object(s.jsx)(K,{})]})})})})},$=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(Z,{})})},ee=c(20),te=c(67),ce=(c(103),c(16)),ne={fetchUrl:"random",joke:{},categories:[],searchQuery:"",isLoaded:!1},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(ce.a)(Object(ce.a)({},e),{},{isLoaded:!1});case u:return Object(ce.a)(Object(ce.a)({},e),{},{fetchUrl:t.payload});case d:return Object(ce.a)(Object(ce.a)({},e),{},{joke:t.payload,isLoaded:!0});case b:return Object(ce.a)(Object(ce.a)({},e),{},{categories:t.payload});case p:return Object(ce.a)(Object(ce.a)({},e),{},{searchQuery:t.payload});default:return e}},re=Object(ee.c)({jokes:ae}),oe=[te.a];var ie=Object(ee.d)(re,ee.a.apply(void 0,oe));r.a.render(Object(s.jsx)(l.a,{store:ie,children:Object(s.jsx)($,{})}),document.getElementById("root"))},77:function(e,t,c){},78:function(e,t,c){}},[[104,1,2]]]);
//# sourceMappingURL=main.258536fd.chunk.js.map